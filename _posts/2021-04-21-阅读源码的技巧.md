---
layout: post
title:  "阅读源码的技巧"
date:   2021-04-21
desc: "阅读源码的技巧"
keywords: "阅读源码的技巧"
categories: [Javaee]
tags: [Javaee,阅读源码的技巧]
icon: icon-java
---
当看了很多的书籍时，都会或多或少的接触到源码，相对于基础的源码我们看的时很明白，但是对与体积庞大的spring家族，阅读是或多或少就有些难度了。因为在spring中的运用了大量的设计模式。
在阅读前有必要了解一些设计模式。




## 为何读源码

有的阅读源码为了探寻解决方案。

有的阅读源码为了了解运行原理。

有的阅读源码为了学习其中的编程技巧。

总之阅读源码百利而无一害。

## 为何读源码很不顺利

阅读源码绝对算得上是一件费时费力的工作，需要耗费大量的时间去完成。而作为开发人员，毕竟精力有限，实在没办法拿出太多的时间放在源码的阅读上。

何一款源码经历了多年的发展与提炼，其复杂程度可想而知。当我们阅读源码的时候，大家都知道需要通过工具来跟踪代码的运行，进而去分析程序。但是，当代码过于复杂，环环相扣绕来绕去的时候，跟进了几十个甚至几百个函数后，这时我们已经不知道自己所处的位置了，不得不再重来。可能反反复复很多遍，才能够真正的进入，明白其中的一角。

有些源码发展多年，会遇到各种各样的问题，并对问题进行了解决，而这些问题有的对于我们来说甚至可以用莫名其妙来修饰，有时候根本想不出会在什么情况下会发生


## 阅读技巧

1.先了解这个东西是做什么的。是否在平时项目中用过。

2.先看官方文档和架构图。一个完整的架构图和官方文档，是学习的基础，这个就是你是否明白这个东西，是否有一定的基础

3.明确目标。只有明确知道了这个东西是作什么的，这个组件是做什么的，才会想着去了解这个组件背后实现的原理。比如spring的容器你了解了，你在项目中
也经常用，但你想深入了解，容器的创建加载过程做了什么，那么这是看源码就有必要了，这时你是去了解容器的加载过程都做了什么，你抱着目的去了。所以明确目标很关键。

4.debug项目，一步一步去调试。

5.debug过程中记录步骤，一步步理清主干代码及附属代码，有选择性的，对主要的代码进行记录。

6.整理笔记，记录流程，便于复习。

## 阅读中的实践记录

在阅读spring源码中我遇到的，在调试中的如何去作到，不是特别的迷路的。

1.找个对这个方面的书籍进行看着，先整体看书籍中的作者是如何进行一步进行深入的，书籍中肯定由于篇幅有限会省略一些。比如看完一个章节和让你自己再程序跑时debug肯定会丢，这时需要再次的看着书籍然后跟着调试，别看你就是看着书调试你也会一步步的调试丢，毕竟书籍的篇幅和正在使用的版本环境不同，所得到的结果或许不太相同。在spring中运用了大量的委托模型。加载的时候必须先进行父类的加载，在父类的加载中又调用了子类的进行了实例化，稍有不慎就会跟丢。这时需要去查看类的继承关系，这样可以更快的阅读，比如下面这个就是》
[![cb7qGn.png](https://z3.ax1x.com/2021/04/21/cb7qGn.png)](https://imgtu.com/i/cb7qGn)

2.明白层及有的代码层及很深，需要不断的往最深处才能够看到真正的实现逻辑

3.一个方法基本可以先明确每个内部所调用的方法做了什么然后明白整个方法都做了什么事，再进而去方法内部看看具体的方法实现。

4.uml图能够帮助了解类图的实现，能够明白方法的调用

5.如果不明白的进行直接跳过，待再次调试时去看，或等整个进行调试跟踪完毕后进行回头细品。其实有的不明白也无所谓，只要主流程能够懂即可。

## 总结

1.阅读需要细心

2.有得放失

3.多调试，多总结，流程图使用起来。

